---
import { faqItems as localFaqItems } from "@/lib/navigation";

interface Props {
  items?: { question: string; answer: string }[];
}

const { items } = Astro.props;
const faqItems = items?.length ? items : localFaqItems;
---

<section class="relative z-[2] px-4 py-4 bg-brand-800">
  <div class="max-w-[1920px] mx-auto bg-bg-quaternary rounded-3xl py-16 lg:py-24 overflow-hidden">
    <div class="max-w-[1440px] mx-auto px-6 lg:px-8 flex flex-wrap gap-10 lg:gap-16">
      <!-- Left -->
      <div class="flex-1 min-w-0 lg:min-w-[480px] lg:max-w-[768px] flex flex-col gap-5" data-animate="fade-up">
        <h2 class="font-display text-4xl font-medium leading-[44px] tracking-[-0.72px] text-text-primary">
          Frequently Asked Questions
        </h2>
        <p class="text-lg font-normal leading-7 text-text-tertiary">
          Everything you need to know about the product and billing. Can't find the answer you're looking for? Please{" "}
          <a href="/" class="underline text-text-tertiary hover:text-text-primary transition-colors">
            chat to our friendly team
          </a>.
        </p>
      </div>

      <!-- Right -->
      <div class="flex-1 min-w-0 lg:min-w-[480px] flex flex-col gap-4" data-animate="stagger">
        {faqItems.map((item, i) => (
          <details class="faq-item group" open={i === 0}>
            <summary class="flex items-start justify-between gap-4 cursor-pointer list-none [&::-webkit-details-marker]:hidden">
              <span class="text-base font-semibold leading-6 text-text-primary">
                {item.question}
              </span>
              <svg class="shrink-0 w-6 h-6 transition-transform duration-200 group-open:rotate-45" viewBox="0 0 24 24" fill="none">
                <circle cx="12" cy="12" r="10" stroke="#535862" stroke-width="2" />
                <path d="M8 12H16" stroke="#535862" stroke-width="2" stroke-linecap="round" />
                <path d="M12 8V16" stroke="#535862" stroke-width="2" stroke-linecap="round" />
              </svg>
            </summary>
            <div class="grid grid-rows-[1fr] transition-[grid-template-rows] duration-300 ease-in-out">
              <div class="overflow-hidden">
                <p class="text-base font-normal leading-6 text-text-tertiary mt-1 pr-10">
                  {item.answer}
                </p>
              </div>
            </div>
          </details>
        ))}
      </div>
    </div>
  </div>
</section>
